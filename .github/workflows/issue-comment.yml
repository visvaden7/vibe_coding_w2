name: Issue Auto Comment

on:
  issues:
    types: [opened]

jobs:
  comment:
    runs-on: ubuntu-latest
    steps:
      - name: Comment on new issue
        uses: actions/github-script@v7
        with:
          script: |
            const { owner, repo } = context.repo;
            const issue_number = context.issue.number;

            // ì´ìŠˆ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
            const { data: issue } = await github.rest.issues.get({
              owner,
              repo,
              issue_number
            });

            let commentBody = `ğŸ‘‹ **ì´ìŠˆë¥¼ ë“±ë¡í•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤!**

            **ì´ìŠˆ ì²˜ë¦¬ í”„ë¡œì„¸ìŠ¤:**
            1. ì´ìŠˆ ê²€í†  ë° ë¼ë²¨ë§
            2. ë‹´ë‹¹ì í• ë‹¹
            3. ìš°ì„ ìˆœìœ„ ê²°ì •
            4. ê°œë°œ ì¼ì • ìˆ˜ë¦½

            **ì°¸ê³ ì‚¬í•­:**
            - ë²„ê·¸ ë¦¬í¬íŠ¸ì˜ ê²½ìš° ì¬í˜„ ë°©ë²•ì„ ìƒì„¸íˆ ê¸°ìˆ í•´ì£¼ì„¸ìš”
            - ê¸°ëŠ¥ ìš”ì²­ì˜ ê²½ìš° ì‚¬ìš© ì‚¬ë¡€ë¥¼ êµ¬ì²´ì ìœ¼ë¡œ ì„¤ëª…í•´ì£¼ì„¸ìš”
            - ì¶”ê°€ ì •ë³´ê°€ í•„ìš”í•œ ê²½ìš° ì½”ë©˜íŠ¸ë¡œ ë¬¸ì˜ë“œë¦¬ê² ìŠµë‹ˆë‹¤

            ë¹ ë¥¸ ì‹œì¼ ë‚´ì— ê²€í†  í›„ ë‹µë³€ë“œë¦¬ê² ìŠµë‹ˆë‹¤! ğŸš€`;

            // ì´ìŠˆ ì œëª©ì— ë”°ë¥¸ ë§ì¶¤í˜• ì½”ë©˜íŠ¸ ì¶”ê°€
            const title = issue.title.toLowerCase();
            if (title.includes('bug') || title.includes('error') || title.includes('ë¬¸ì œ')) {
              commentBody += `\n\n**ğŸ› ë²„ê·¸ ë¦¬í¬íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸:**
              - [ ] ì¬í˜„ ë‹¨ê³„ê°€ ëª…í™•í•œê°€ìš”?
              - [ ] ì˜ˆìƒ ê²°ê³¼ì™€ ì‹¤ì œ ê²°ê³¼ê°€ ê¸°ìˆ ë˜ì–´ ìˆë‚˜ìš”?
              - [ ] í™˜ê²½ ì •ë³´ê°€ í¬í•¨ë˜ì–´ ìˆë‚˜ìš”?
              - [ ] ì—ëŸ¬ ë¡œê·¸ë‚˜ ìŠ¤í¬ë¦°ìƒ·ì´ ì²¨ë¶€ë˜ì–´ ìˆë‚˜ìš”?`;
            }

            if (title.includes('feature') || title.includes('ê¸°ëŠ¥') || title.includes('ìš”ì²­')) {
              commentBody += `\n\n**âœ¨ ê¸°ëŠ¥ ìš”ì²­ ì²´í¬ë¦¬ìŠ¤íŠ¸:**
              - [ ] ê¸°ëŠ¥ì˜ ëª©ì ê³¼ í•„ìš”ì„±ì´ ëª…í™•í•œê°€ìš”?
              - [ ] ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤ê°€ êµ¬ì²´ì ì¸ê°€ìš”?
              - [ ] ê¸°ëŒ€í•˜ëŠ” ë™ì‘ì´ ìƒì„¸íˆ ê¸°ìˆ ë˜ì–´ ìˆë‚˜ìš”?
              - [ ] ëŒ€ì•ˆì´ë‚˜ ì°¸ê³  ìë£Œê°€ ìˆë‚˜ìš”?`;
            }

            // ì½”ë©˜íŠ¸ ì‘ì„±
            await github.rest.issues.createComment({
              owner,
              repo,
              issue_number,
              body: commentBody
            });